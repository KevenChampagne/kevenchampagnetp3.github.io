(function(e){function t(t){for(var n,s,o=t[0],c=t[1],u=t[2],p=0,d=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},i=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/deploiementtp3/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"45c6":function(e,t,r){"use strict";(function(e){r("063a"),r("e2c0"),r("bcee"),r("e4bd"),r("b900");function n(t){var r=t.split(".")[1],n=e.from(r,"base64");return JSON.parse(n.toString())}function a(e){return n(e).exp}function i(e){return n(e).sub}function s(e){var t=n(e).exp;return!(Date.now()>=1e3*t)}t["a"]={decrypt:n,isAlive:s,getUserId:i,getExpiration:a}}).call(this,r("257d").Buffer)},"56d7":function(e,t,r){"use strict";r.r(t);r("5675"),r("58c3"),r("59f3"),r("3e3e");var n=r("d04a"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("NavigationBar"),r("router-view")],1)},i=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"navbar navbar-expand-md navbar-dark bg-dark"},[r("div",{staticClass:"navbar-nav mr-auto"},[r("router-link",{staticClass:"nav-link",class:{active:"Home"==e.$route.name},attrs:{to:{name:"Home"}}},[e._v("Accueil")]),r("router-link",{staticClass:"nav-link",class:{active:"About"==e.$route.name},attrs:{to:{name:"About"}}},[e._v("À propos")]),e.isLoggedIn?r("router-link",{staticClass:"nav-link",class:{active:"Profile"==e.$route.name},attrs:{to:{name:"Profile"}}},[e._v("Profile")]):e._e()],1),r("div",{staticClass:"navbar-nav ml-auto"},[e.isLoggedIn?r("b-link",{staticClass:"nav-link",on:{click:e.logout}},[e._v(" Se déconnecter ")]):r("router-link",{staticClass:"nav-link",class:{active:"Login"==e.$route.name},attrs:{to:{name:"Login"}}},[e._v(" Connexion ")])],1)])},o=[],c={computed:{isLoggedIn:function(){return this.$store.getters["authentication/isLoggedIn"]}},methods:{logout:function(){this.$store.dispatch("authentication/logout"),this.$router.push({name:"Login"})}}},u=c,l=r("bdd7"),p=Object(l["a"])(u,s,o,!1,null,null,null),d=p.exports,m={components:{NavigationBar:d}},f=m,h=Object(l["a"])(f,a,i,!1,null,null,null),v=h.exports,g=r("dc3b"),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h1",{staticClass:"text-center mt-xl"},[e._v(" Bienvenue sur le site de regroupement de sentiers de la SÉPAQ ")]),n("br"),n("div",{staticClass:"row"},[n("div",{staticClass:"home text-center col-6"},[n("p",[e._v("Veuillez choisir un des parcs :")]),1==e.hasError?n("p",[e._v(e._s(e.errorMessage))]):e._e(),0==e.hasError?n("select",{directives:[{name:"model",rawName:"v-model",value:e.parkSelected,expression:"parkSelected"}],on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.parkSelected=t.target.multiple?r:r[0]},function(t){return e.getTrailById(e.parkSelected.parkId)}]}},e._l(e.parks,(function(t){return n("option",{key:t.id,domProps:{value:{parkId:t.id}}},[e._v(e._s(t.name)+" ")])})),0):e._e(),""!=e.parkSelected?n("div",[n("p",[e._v("Ensuite veuillez choisir un sentier :")]),1==e.hasError?n("p",[e._v(e._s(e.errorMessage))]):e._e(),0==e.hasError?n("select",{directives:[{name:"model",rawName:"v-model",value:e.trailSelected,expression:"trailSelected"}],on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.trailSelected=t.target.multiple?r:r[0]},function(t){return e.displayOnMap(e.trailSelected.segmentsId,e.trailSelected.trailId)}]}},e._l(e.trailsById,(function(t){return n("option",{key:t.id,domProps:{value:{trailId:t.id,segmentsId:t.segments,trailLevel:t.difficulties}}},[e._v(e._s(t.name)+" ")])})),0):e._e()]):e._e()]),""!=e.trailSelected?n("div",{staticClass:"col-6"},[n("Map"),!1===e.isLiked?n("img",{attrs:{id:"emptyHeart",src:r("a9fa"),alt:"EmptyHeart"},on:{click:function(t){return e.likeMethod(e.trailSelected.trailId)}}}):e._e(),!0===e.isLiked?n("img",{attrs:{id:"filledHeart",src:r("d006"),alt:"filledHeart"},on:{click:function(t){return e.likeMethod(e.trailSelected.trailId)}}}):e._e(),n("p",[e._v(e._s(e.allTrailLikes))])],1):e._e()])])},b=[],w=r("c452"),x=(r("833b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex justify-content-center"},[r("l-map",{staticClass:"w-75",staticStyle:{height:"350px"},attrs:{zoom:e.zoom,center:e.center}},[r("l-tile-layer",{attrs:{url:e.url,attribution:e.attribution}}),e._l(e.segments,(function(t){return r("div",{key:t.id},[r("l-polyline",{attrs:{"lat-lngs":t.coordinates,color:e.determineColor(t.level)}})],1)}))],2)],1)}),A=[],E=r("608b"),y=r("e0fd"),O=r("5976"),I={components:{LMap:E["a"],LTileLayer:y["a"],LPolyline:O["a"]},created:function(){this.$parent.$on("drawMap",this.drawOnMap)},data:function(){return{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:15,center:this.center,polyline:{latlngs:this.$store.state.trails.segmentsCoordinates,color:"black"}}},methods:{drawOnMap:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.center=e[0][0];case 1:case"end":return r.stop()}}),r)})))()},determineColor:function(e){switch(e){case"Très Difficile":return"red";case"Difficile":return"orange";case"Intermédiaire":return"blue";case"Facile":return"green";case"Inconnue":return"black"}}},computed:{segments:function(){return this.$store.state.trails.segments},segmentsDifficulties:function(){return this.$store.state.trails.segmentsDifficulties}}},S=I,R=Object(l["a"])(S,x,A,!1,null,null,null),_=R.exports,T={components:{Map:_},created:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getParks();case 2:if(!e.$store.getters["authentication/isLoggedIn"]){t.next=5;break}return t.next=5,e.$store.dispatch("like/fetchLikedTrails",{userId:e.$store.getters["authentication/getTokenUserId"]});case 5:case"end":return t.stop()}}),t)})))()},data:function(){return{hasError:!1,parkSelected:"",trailSelected:"",parkId:3,isLiked:!1}},methods:{getParks:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("park/fetchParks",null,{root:!0});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),e.errorMessage=!0;case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},getTrailById:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch("trails/fetchTrailsById",e);case 3:r.next=8;break;case 5:r.prev=5,r.t0=r["catch"](0),t.errorMessage=!0;case 8:case"end":return r.stop()}}),r,null,[[0,5]])})))()},displayOnMap:function(e,t){var r=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.$store.dispatch("like/fetchAllLikesFromTrailsId",t);case 3:return n.next=5,r.$store.dispatch("trails/fetchSegmentFromTrails",e);case 5:r.$emit("drawMap",r.segmentsCoordinates),void 0!==r.$store.getters["like/getLikeId"](t)?r.isLiked=!0:r.isLiked=!1,n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),r.errorMessage=!0;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},likeMethod:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.$store.getters["authentication/isLoggedIn"]){r.next=22;break}if(n=t.$store.getters["authentication/getTokenUserId"],!t.isLiked){r.next=13;break}return r.next=5,t.$store.getters["like/getLikeId"](e);case 5:return a=r.sent,r.next=8,t.$store.dispatch("like/removeLike",a.id);case 8:return r.next=10,t.$store.dispatch("like/fetchAllLikesFromTrailsId",e);case 10:t.isLiked=!1,r.next=18;break;case 13:return r.next=15,t.$store.dispatch("like/addLike",{trailId:t.trailSelected.trailId,userId:parseInt(n),token:t.$store.state.authentication.token});case 15:return t.isLiked=!0,r.next=18,t.$store.dispatch("like/fetchAllLikesFromTrailsId",e);case 18:return r.next=20,t.$store.dispatch("like/fetchLikedTrails",{userId:t.$store.getters["authentication/getTokenUserId"]});case 20:r.next=23;break;case 22:alert("Vous devez être authentifié pour pouvoir aimer ce sentier");case 23:case"end":return r.stop()}}),r)})))()}},computed:{parks:function(){return this.$store.state.park.parks},trailsById:function(){return this.$store.state.trails.trails},segmentsCoordinates:function(){return this.$store.state.trails.segmentsCoordinates},segmentsDifficulties:function(){return this.$store.state.trails.segmentsDifficulties},allTrailLikes:function(){return this.$store.getters["like/getAllTrailLikes"].length}}},L=T,j=Object(l["a"])(L,k,b,!1,null,"7f9f45e9",null),C=j.exports,P=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},B=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("À propos")]),r("h3",[e._v("Pour se connecter : aller dans l'onglet connexion")]),r("h3",[e._v("Pour voir la carte : aller dans l'onglet accueil")])])}],z={created:function(){this.$store.dispatch("profile/getProfile")}},$=z,F=Object(l["a"])($,P,B,!1,null,"04777187",null),J=F.exports,U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-container",[r("b-form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[r("h1",[e._v("Connexion")]),r("label",[e._v("Courriel")]),r("b-form-input",{attrs:{required:"",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("label",[e._v("Mot de passe")]),r("b-form-input",{attrs:{required:"",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("b-button",{staticClass:"mt-4",attrs:{variant:"primary",type:"submit"}},[e._v("Se connecter")])],1),e.authServiceError?r("div",[e._v(e._s(e.authServiceError))]):e._e()],1),r("div",[r("b-container",[r("b-form",{on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[r("h1",[e._v("Si vous n'avez pas de compte : créer un compte")]),r("label",[e._v("Courriel")]),r("b-form-input",{attrs:{required:"",type:"text"},model:{value:e.registerEmail,callback:function(t){e.registerEmail=t},expression:"registerEmail"}}),r("label",[e._v("Nom d'utilisateur")]),r("b-form-input",{attrs:{required:"",type:"text"},model:{value:e.registerName,callback:function(t){e.registerName=t},expression:"registerName"}}),r("label",[e._v("Mot de passe")]),r("b-form-input",{attrs:{required:"",type:"password"},model:{value:e.registerPassword,callback:function(t){e.registerPassword=t},expression:"registerPassword"}}),r("b-button",{staticClass:"mt-4",attrs:{type:"submit",variant:"primary"}},[e._v("Créer le compte")])],1),e.registerServError?r("div",[e._v(e._s(e.registerServError))]):e._e(),""==e.registerServError&&1==e.registerComplete?r("div",[e._v(" Inscription réussie ")]):e._e()],1)],1)],1)},M=[],N={created:function(){this.$store.commit("authentication/clearError")},data:function(){return{email:"",password:"",name:"",registerEmail:"",registerPassword:"",registerName:"",registerComplete:!1}},methods:{login:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("authentication/login",{email:e.email,password:e.password});case 2:e.authServiceError||e.$router.push({name:"Profile"});case 3:case"end":return t.stop()}}),t)})))()},register:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$store.commit("authentication/clearError"),t.next=4,e.$store.dispatch("authentication/register",{email:e.registerEmail,password:e.registerPassword,name:e.registerName});case 4:e.registerComplete=!0,e.registerServError||e.$router.push({name:"Profile"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.registerComplete=!1;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},computed:{authServiceError:function(){return this.$store.state.authentication.authServiceError},registerServError:function(){return this.$store.state.authentication.registerServError}}},Q=N,D=Object(l["a"])(Q,U,M,!1,null,null,null),X=D.exports,V=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Profile")]),r("div",[e._v("Nom: "+e._s(e.name))]),r("div",[e._v("Courriel: "+e._s(e.email))])])},H=[],Z=(r("e687"),{created:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("profile/getProfile");case 2:e.onError&&console.log("TODO: rediriger vers une page d'erreur");case 3:case"end":return t.stop()}}),t)})))()},computed:{name:function(){return this.$store.state.profile.name},email:function(){return this.$store.state.profile.email},onError:function(){return this.$store.state.profile.onError}}}),q=Z,K=Object(l["a"])(q,V,H,!1,null,null,null),W=K.exports,Y=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},G=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content-container"},[r("span",{staticClass:"title"},[e._v("Cette page n'existe pas...")])])}],ee={},te=Object(l["a"])(ee,Y,G,!1,null,null,null),re=te.exports,ne=[{path:"/",name:"Home",component:C},{path:"/login",name:"Login",component:X},{path:"/profile",name:"Profile",component:W,meta:{requiresAuth:!0}},{path:"/about",name:"About",component:J},{path:"*",name:"PageNotFound",component:re}],ae=r("6c71"),ie="https://tp3-api.herokuapp.com",se=r("8aad"),oe=r.n(se),ce=r("5a19"),ue=r("5d80"),le=r("7946"),pe=r("a927"),de=r("e0e0"),me=(r("bfa3"),function(e){Object(le["a"])(r,e);var t=Object(pe["a"])(r);function r(e,n,a){var i;return Object(ue["a"])(this,r),i=t.call(this,e),i.codeText=n,i.code=a,i}return Object(ce["a"])(r)}(Object(de["a"])(Error)));function fe(e){if(he(e)){var t=new me("Erreur avec le réseau. Impossible de communiquer avec le serveur.");return t}var r=new me(e.response.data,e.response.statusText,e.response.status);return r}function he(e){return!!e.isAxiosError&&!e.response}function ve(e){return ge.apply(this,arguments)}function ge(){return ge=Object(w["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.a.post("".concat(ie,"/login"),{email:t.email,password:t.password});case 3:return r=e.sent,n=r.data.accessToken,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e["catch"](0),fe(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),ge.apply(this,arguments)}function ke(e){return be.apply(this,arguments)}function be(){return be=Object(w["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.a.post("".concat(ie,"/api/register"),{email:t.email,password:t.password,name:t.name});case 3:return r=e.sent,n=r.data.accessToken,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e["catch"](0),fe(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),be.apply(this,arguments)}var we={getToken:ve,register:ke},xe=r("45c6"),Ae={token:"",authServiceError:"",registerServError:""},Ee={isLoggedIn:function(e){return!!e.token},getTokenUserId:function(e){var t=xe["a"].getUserId(e.token);return t}},ye={clearError:function(e){e.authServiceError="",e.registerServError=""},initializeAuthentication:function(e,t){e.token=t,e.authServiceError=""},logout:function(e){e.token=""},setAuthServiceError:function(e,t){e.authServiceError=t},setRegisterServError:function(e,t){e.registerServError=t}},Oe={login:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,we.getToken(t);case 4:a=r.sent,n("initializeAuthentication",a),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),n("setAuthServiceError",r.t0.message);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},logout:function(e){var t=e.commit;t("logout")},register:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,we.register(t);case 4:a=r.sent,n("initializeAuthentication",a),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),n("setRegisterServError",r.t0.message);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()}},Ie={namespaced:!0,state:Ae,actions:Oe,mutations:ye,getters:Ee},Se=(r("351c"),oe.a.create({}));Se.interceptors.request.use((function(e){return ht.getters["authentication/isLoggedIn"]&&(e.headers.authorization="Bearer ".concat(ht.state.authentication.token)),e}));var Re=Se;function _e(e){return Te.apply(this,arguments)}function Te(){return Te=Object(w["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("".concat(ie,"/users/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),fe(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Te.apply(this,arguments)}var Le={getUserById:_e},je={email:"",name:"",onError:!1},Ce={},Pe={initializeProfile:function(e,t){e.email=t.email,e.name=t.name,e.onError=!1},setOnError:function(e){e.onError=!0}},Be={getProfile:function(e){return Object(w["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.rootGetters,t.prev=1,a=n["authentication/getTokenUserId"],t.next=5,Le.getUserById(a);case 5:i=t.sent,r("initializeProfile",i),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),r("setOnError");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()}},ze={namespaced:!0,state:je,actions:Be,mutations:Pe,getters:Ce};r("cde7");function $e(){return Fe.apply(this,arguments)}function Fe(){return Fe=Object(w["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.a.get("".concat(ie,"/api/parks"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e["catch"](0),fe(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Fe.apply(this,arguments)}var Je={getAllParks:$e},Ue={parks:[],fetchError:"",onError:!1},Me={getParks:function(e){return e.parks},getErrorMessage:function(e){return e.fetchError}},Ne={initializeParks:function(e,t){e.parks=t},initializeFetchError:function(e,t){e.fetchError=t},setOnError:function(e){e.onError=!0},sortParksByName:function(e){e.parks.sort((function(e,t){return e.name.localeCompare(t.name)}))}},Qe={fetchParks:function(e){return Object(w["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Je.getAllParks();case 4:n=t.sent,r("initializeParks",n),r("sortParksByName"),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),r("initializeFetchError",t.t0.message),r("setOnError");case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()}},De={namespaced:!0,state:Ue,actions:Qe,mutations:Ne,getters:Me};r("2cba"),r("bcee");function Xe(e){return Ve.apply(this,arguments)}function Ve(){return Ve=Object(w["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.a.get("".concat(ie,"/api/parks/").concat(t,"/trails"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),fe(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ve.apply(this,arguments)}function He(e){return Ze.apply(this,arguments)}function Ze(){return Ze=Object(w["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.a.get("".concat(ie,"/api/segments/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),fe(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ze.apply(this,arguments)}var qe={getAllTrailById:Xe,getSegmentsFromTrailId:He},Ke={trails:[],segmentsCoordinates:[],segments:[],fetchError:"",onError:!1},We={getTrails:function(e){return e.trails},getTrailById:function(e,t){return e.trails.find((function(e){return e.id===t}))},getErrorMessage:function(e){return e.fetchError},getCoordinatesArray:function(e){return e.segmentsCoordinates},getFirstCoordinates:function(e){return e.segmentsCoordinates[0][0]}},Ye={initializeTrails:function(e,t){e.trails=t},initializeFetchError:function(e,t){e.fetchError=t},setOnError:function(e){e.onError=!0},sortTrailsByName:function(e){e.trails.sort((function(e,t){return e.name.localeCompare(t.name)}))},addCoordinatesToArray:function(e,t){e.segmentsCoordinates.push(t)},addSegmentToArray:function(e,t){e.segments.push(t)},clearCoordinatesArray:function(e){e.segmentsCoordinates=[]},clearSegmentsArray:function(e){e.segments=[]}},Ge={fetchTrailsById:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,qe.getAllTrailById(t);case 4:a=r.sent,n("initializeTrails",a),n("sortTrailsByName"),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](1),n("initializeFetchError",r.t0.message),n("setOnError");case 13:case"end":return r.stop()}}),r,null,[[1,9]])})))()},fetchSegmentFromTrails:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function r(){var n,a,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.commit,r.prev=1,n("clearCoordinatesArray"),n("clearSegmentsArray"),i=0;case 5:if(!(i<t.length)){r.next=15;break}return a=t[i],r.next=9,qe.getSegmentsFromTrailId(a);case 9:s=r.sent,n("addCoordinatesToArray",s.coordinates),n("addSegmentToArray",s);case 12:i++,r.next=5;break;case 15:r.next=21;break;case 17:r.prev=17,r.t0=r["catch"](1),n("initializeFetchError",r.t0.message),n("setOnError");case 21:case"end":return r.stop()}}),r,null,[[1,17]])})))()}},et={namespaced:!0,state:Ke,actions:Ge,mutations:Ye,getters:We};function tt(e){return rt.apply(this,arguments)}function rt(){return rt=Object(w["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("".concat(ie,"/api/users/").concat(t,"/likes"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),fe(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),rt.apply(this,arguments)}function nt(e){return at.apply(this,arguments)}function at(){return at=Object(w["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.a.get("".concat(ie,"/api/trails/").concat(t,"/likes"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),fe(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),at.apply(this,arguments)}function it(e,t){return st.apply(this,arguments)}function st(){return st=Object(w["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("".concat(ie,"/api/likes"),{userId:r,trailId:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e["catch"](0),fe(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),st.apply(this,arguments)}function ot(e){return ct.apply(this,arguments)}function ct(){return ct=Object(w["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.delete("".concat(ie,"/api/likes/").concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e["catch"](0),fe(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ct.apply(this,arguments)}var ut={getUsersLike:tt,fetchAllLikesFromTrailsId:nt,addLikeService:it,removeLike:ot},lt={likedTrails:[],trailAllLikes:[],fetchError:"",onError:!1},pt={getLiked:function(e){return e.likedTrails},getAllTrailLikes:function(e){return e.trailAllLikes},getErrorMessage:function(e){return e.fetchError},getLikeId:function(e){return function(t){return e.likedTrails.find((function(e){return e.trailId===t}))}}},dt={initializeLikedTrails:function(e,t){e.likedTrails=t},initializeTrailAllLikes:function(e,t){e.trailAllLikes=t},initializeFetchError:function(e,t){e.fetchError=t},setOnError:function(e){e.onError=!0}},mt={fetchLikedTrails:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,ut.getUsersLike(t.userId);case 4:a=r.sent,n("initializeLikedTrails",a),r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](1),n("initializeFetchError",r.t0.message),n("setOnError");case 12:case"end":return r.stop()}}),r,null,[[1,8]])})))()},fetchAllLikesFromTrailsId:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,ut.fetchAllLikesFromTrailsId(t);case 4:a=r.sent,n("initializeTrailAllLikes",a),r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](1),n("initializeFetchError",r.t0.message),n("setOnError");case 12:case"end":return r.stop()}}),r,null,[[1,8]])})))()},addLike:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,ut.addLikeService(t.trailId,t.userId);case 4:r.next=10;break;case 6:r.prev=6,r.t0=r["catch"](1),n("initializeFetchError",r.t0.message),n("setOnError");case 10:case"end":return r.stop()}}),r,null,[[1,6]])})))()},removeLike:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,ut.removeLike(t);case 4:r.next=10;break;case 6:r.prev=6,r.t0=r["catch"](1),n("initializeFetchError",r.t0.message),n("setOnError");case 10:case"end":return r.stop()}}),r,null,[[1,6]])})))()}},ft={namespaced:!0,state:lt,actions:mt,mutations:dt,getters:pt};n["default"].use(ae["a"]);var ht=new ae["a"].Store({modules:{authentication:Ie,profile:ze,park:De,trails:et,like:ft}});n["default"].use(g["a"]);var vt=new g["a"]({mode:"history",base:"/deploiementtp3/",routes:ne});vt.beforeEach((function(e,t,r){e.meta.requiresAuth&&!ht.getters["authentication/isLoggedIn"]?r({name:"Login",query:{redirect:e.path}}):r()}));var gt=vt,kt=r("d422"),bt=r("8472"),wt=(r("5f3e"),r("41cf"),{welcomeMessage:"Allo tout le monde !",install:function(e){e.prototype.$getUiText=function(e){return wt[e]}}}),xt=wt,At=(r("9a6e"),r("9b4d")),Et=r.n(At);delete Et.a.Icon.Default.prototype._getIconUrl,Et.a.Icon.Default.mergeOptions({iconRetinaUrl:r("a741"),iconUrl:r("843f"),shadowUrl:r("9021")}),n["default"].use(kt["a"]),n["default"].use(bt["a"]),n["default"].use(xt),n["default"].config.productionTip=!1,new n["default"]({router:gt,store:ht,render:function(e){return e(v)}}).$mount("#app")},a9fa:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAABLCAYAAAD5yTBGAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAJSSURBVHhe7ZvBcsIwDEShH89vt9WApq7rUMuWvVKy71IOJV69bBzIDPfPb25kOx+vv2QzFA+C4kFQPAiKB0HxICgeBMWDoHgQFA+C4kFQPIhlD8nu9/vr1XtQz+jQ+VzF9w5zxOqTECmfi/iegXQZy/96ETHflPijkNZDeh2nJnK+YfGtMLOihPq4o8cMn+/7jeZ3ei1+xIy0VcJLPOY3i18tvcS6VuRsNabP8TsHE+rj1+uXRM7WYvgL1OrBlJEBUdksdIsvB941mPLfelGyWVqf5pHB0YBI6TOYxSOHq+VHkT6ydpd4yyV0dXpdpdlqlFa7kG0fxSQ+yoBljoiZekjX+LOQVrw0LErbR2DjQVA8CJN4fqw8xuqGjQfRJT7zTSwqbLwzvSU1i+c+/5cRJ2w8iG7x5SXE1v9QurDcC9l4ECbxbP1vRtsusPEgzOLZ+iczbReGGn91+bPSBW41IIbFX7X1Hm0Xphp/Nfle0oXpreYq8j2lCy57/Nnle0sXltxczyR/1Sxu4usmnEF+PUOr7Y/H4/XKhstvoEp6wmZg9RzuW40ELENmbP6O8rg3viRb+3fmXXJzVergkdu/uyRLxQsZ5COuzKVbTQ1iwHcg8yxvfEk9mAyOugLQJdgqXmgNuFN+62QjrrytW01NS/iqODvX6gEqXlkpJZpwJYR4oSVIGI3nfTxvwohXZoVFF66EE69YBWYRroQVrxwJFSR6NuFKePHKuxNQkmScPOJL6pOQcISc4s/A9m+u5AnFg6B4EBQPguJBUDwIiodwu30BJlWAv+AZrU0AAAAASUVORK5CYII="},d006:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAABLCAYAAAD5yTBGAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAKISURBVHhe7ZvBUkIxDEXBX3Dr0v//Ipdu/QY1DpFMbaVN09z0vZwZB1aQnFzyoOD185tL4s7T7TZxJsWDSPEgUjyIFA8ixYNI8SBSPIgUDyLFg0jxIFzEX6/Xn7+oIOozPSTTFO99RhelRhPxVmlZNYSI9U2JbzX08fJ6u9fm+f3tdu8vVg3+J3ymRov61OJrTfU0U8O6wZlA1KjVNytfJb5sTNtQiUWDloEoKeubkT8sXjZm1VCJtsFVgSiR9WnlD72d9JBOlI9dS3GJl3RCPnZPbTW6E+8lvaQnXZFrazH8AcqzMeJRulDSiZnn6xKvfTlZ0ZKPrksyWsthzmq8085on/eheORLWVKmPkpdkpHUb5X4muAo0kc5zKrZjW7xUZIl64hYUy9bJp4ajSJdS64aECkeRLf48uAquaNxk4kHkeJBPBSvPW8+IyOuhhKfe/4vWie5akB0ic9185jlX4Tkurkz46JbfKa+jcaNasdn6ucdDImXkz2zfNm7dhOoEp/MMyz+7Km3SDuhSvxZ5VtJJ0xWzRnkW/eoFl9O/Mjyy95m005MJf5M8hkL6cT0qrEqJCoyTJa9Tv1HiKT8Mc/uX0avWC8Sk4srURa289pZLZ0wE08cQb6HdMJUPLGzfC/phLl4Ykf5ntIJs4tri+gX3VooVksnliReEjn9tZR7SCeWJ56p/XYclX5UyiVu4hn06vHe5S3cxROI9EdIuQQinvEYQDThDFQ8UZNPzA6gJpyIIJ2Ai2esBhBdOBNGPKMdwC7CmXDimd4B7CacCSueaQ2gRXThTHjxkv+GsFEbP2wlnuEBbFj6L1uKPwLLD8mSOikeRIoHkeJBpHgQKR5EiodwuXwBz9WMr+HGQ0IAAAAASUVORK5CYII="}});
//# sourceMappingURL=app.21b1677b.js.map